<html>

<head>
    <script language="JavaScript">

        var numObjet = 0;
        var curseurPosXS, curseurPosYS;
        var objGaucheS, objHautS;

        function init() {

            if (document.captureEvents) {
                document.captureEvents(Event.MOUSEDOWN | Event.MOUSEUP);
            }
            document.onmousedown = startDrag;
            document.onmouseup = endDrag;
        }

        function startDrag(e) {
            numObjet = whichObj(e);

            if (numObjet != null) {

                curseurPosXS = (navigator.appName.substring(0, 3) == "Net") ? e.pageX : event.clientX;
                curseurPosYS = (navigator.appName.substring(0, 3) == "Net") ? e.pageY : event.clientY;


                objGaucheS = parseInt(document.images[numObjet].style.left);
                objHautS = parseInt(document.images[numObjet].style.top);


                if (document.captureEvents) {
                    document.captureEvents(Event.MOUSEMOVE);
                }
                document.onmousemove = moveIt;
            }
            return false;
        }

        function moveIt(e) {
            var cursorPosX = (navigator.appName.substring(0, 3) == "Net") ? e.pageX : event.clientX;
            var cursorPosY = (navigator.appName.substring(0, 3) == "Net") ? e.pageY : event.clientY;

            document.images[numObjet].style.left = objGaucheS + cursorPosX - curseurPosXS;
            document.images[numObjet].style.top = objHautS + cursorPosY - curseurPosYS;

            return false;
        }

        function endDrag(e) {
            numObjet = null;

            if (document.captureEvents) {
                document.releaseEvents(Event.MOUSEMOVE);
            }
            document.onmousemove = "";

        }

        function whichObj(e) {
            n = 0;
            var cursorPosX = (navigator.appName.substring(0, 3) == "Net") ? e.pageX : event.clientX;
            var cursorPosY = (navigator.appName.substring(0, 3) == "Net") ? e.pageY : event.clientY;

            while (document.images[n]) {
                document.images[n].style.position = "absolute";
                document.images[n].style.zIndex = 1000 - n;
                document.images[n].style.cursor = "default";

                if (document.images[n].style.left == "" || document.images[n].style.left == null) {
                    document.images[n].style.left = 0;
                    document.images[n].style.top = 0;

                }

                objPosLeft = parseInt(document.images[n].style.left);
                objPosTop = parseInt(document.images[n].style.top);

                if ((cursorPosX > objPosLeft) &&
                    (cursorPosX < objPosLeft + document.images[n].width) &&
                    (cursorPosY > objPosTop) &&
                    (cursorPosY < objPosTop + document.images[n].height)) {
                    return n;
                }
                else n++;
            }
            return null;
        }


    </script>
</head>

<body onLoad="init()">

    <img src="drag_img.png" />


</body>

</html>